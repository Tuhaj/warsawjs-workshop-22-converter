<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WarsawJS - exchange rate</title>
    <link rel="stylesheet" type="text/css" href="reset.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400|Lato" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <header>
        <span>Warsaw<strong>JS</strong></span>
    </header>
    <main>
        <section class="exchange">
            <div class="currency">
                <input id="input-value" type="number"/>
                <select id="input-currency">
                    <option value="PLN">PLN</option>
                    <option value="GPB">GPB</option>
                    <option value="USD">USD</option>
                    <option value="CHF">CHF</option>
                </select>
            </div>
            <div class="arrow">
                <img src="img/arrow.png" alt="->" />
            </div>
            <div class="currency">
                <span id="result">0</span>
                <select id="output-currency">
                    <option value="PLN">PLN</option>
                    <option value="GPB">GPB</option>
                    <option value="USD">USD</option>
                    <option value="CHF">CHF</option>
                </select>
            </div>
        </section>
        <section class="rate">
            <div class="warsawjs-logo-container">
                <img src="img/warsawjs.png" alt="WarsawJs" />
            </div>
            <div>
                <h6>Todays <span id="current-rate"></span> rates</h6>
                <ul>

                </ul>
            </div>
        </section>
    </main>
<script src="src/index.js"></script>
<script>
  const inputCurrency = document.querySelector('#input-currency');
  const outputCurrency = document.querySelector('#output-currency');

  const rateList = document.querySelector('section.rate ul');
  const convertObject = {
    /*currencyTo: { currencyFrom: rate }*/
    'pln': { 'eur': 4.25, 'usd': 3.59, 'gpb': 4.62, 'chf': 3.69, 'pln': 1.0 },
    'eur': { 'pln': 0.23, 'usd': 0.84, 'gpb': 1.08, 'chf': 0.86, 'eur': 1.0 },
    'usd': { 'eur': 1.18, 'pln': 0.27, 'gpb': 1.28, 'chf': 1.03, 'usd': 1.0 },
    'gpb': { 'pln': 0.21, 'eur': 0.92, 'usd': 0.77, 'chf': 0.80, 'gpb': 1.0 },
    'chf': { 'pln': 0.27, 'eur': 1.16, 'usd': 0.97, 'gpb': 1.25, 'chf': 1.0 }
  };

  const Converter = new WJSConverter(convertObject, rateList);
  const currentRateContainer = document.querySelector('#current-rate');

  Converter.generateConvertTable(currentRateContainer, inputCurrency);

  const input = document.querySelector('#input-value');
  const resultContainer = document.querySelector('#result');

  inputCurrency.addEventListener('change', () => {
    resultContainer.innerText = Converter.convert(input.value, inputCurrency.value, outputCurrency.value);
  });
  outputCurrency.addEventListener('change', () => {
    resultContainer.innerText = Converter.convert(input.value, inputCurrency.value, outputCurrency.value);
  });
  input.addEventListener('keyup', () => {
    resultContainer.innerText = Converter.convert(input.value, inputCurrency.value, outputCurrency.value);
  });
</script>
</body>
</html>